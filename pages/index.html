<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GetItDone - Need it? Done.</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../assets/styles/styles.css">
</head>
<body>
    <!-- Fiverr-Style Header -->
    <header class="fiverr-header">
        <!-- Top Section -->
        <div class="header-top">
        <div class="container">
                <div class="header-content">
                    <!-- Logo -->
                    <div class="header-logo">
                        <a href="../pages/index.html" class="logo-link">
                            <i class="bi bi-check-circle-fill me-2"></i>
                            <span class="logo-text">GetItDone</span>
                        </a>
                    </div>
                    
                    <!-- Mobile Categories Menu Button -->
                    <div class="mobile-categories-btn">
                        <button class="btn btn-outline-secondary btn-sm" type="button" data-bs-toggle="offcanvas" data-bs-target="#mobileCategories" aria-controls="mobileCategories">
                            <i class="bi bi-list"></i>
                        </button>
                    </div>
                    
                    <!-- Search Bar -->
                    <div class="header-search">
                        <div class="search-container">
                            <input type="text" class="search-input" placeholder="What task are you looking for today?" id="header-search-input">
                            <button class="search-button" onclick="performSearch()">
                                <i class="bi bi-search"></i>
            </button>
                        </div>
                        <!-- Search Suggestions Dropdown -->
                        <div class="search-suggestions" id="search-suggestions">
                            <div class="suggestion-item" onclick="selectSuggestion('tutoring')">
                                <i class="bi bi-book"></i>
                                <span>Tutoring</span>
                            </div>
                            <div class="suggestion-item" onclick="selectSuggestion('cleaning')">
                                <i class="bi bi-house"></i>
                                <span>House Cleaning</span>
                            </div>
                            <div class="suggestion-item" onclick="selectSuggestion('delivery')">
                                <i class="bi bi-truck"></i>
                                <span>Delivery</span>
                            </div>
                            <div class="suggestion-item" onclick="selectSuggestion('tech help')">
                                <i class="bi bi-laptop"></i>
                                <span>Tech Help</span>
                            </div>
                            <div class="suggestion-item" onclick="selectSuggestion('creative')">
                                <i class="bi bi-palette"></i>
                                <span>Creative Services</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Right Actions -->
                    <div class="header-actions">
                        <!-- Not Logged In -->
                        <div id="guest-actions">
                            <a href="#" class="action-link" onclick="showLoginModal()">Login</a>
                            <a href="#" class="action-link" onclick="showRegisterModal()">Join</a>
                        </div>
                        
                        <!-- Logged In User -->
                        <div id="user-actions" style="display: none;">
                            <!-- Notifications -->
                            <div class="action-icon position-relative" onclick="showNotifications()">
                                <i class="bi bi-bell"></i>
                                <span class="notification-badge" id="header-notification-badge" style="display: none;">0</span>
                            </div>
                            
                            <!-- Messages -->
                            <div class="action-icon position-relative" onclick="openMessagesModal()">
                                <i class="bi bi-envelope"></i>
                                <span class="notification-badge" id="header-message-badge" style="display: none;">0</span>
                                </div>
                            
                            
                            <!-- Orders/Tasks -->
                            <a href="my-stuff.html" class="action-link">My Tasks</a>
                            <a href="my-stuff.html" class="action-icon mobile-only" title="My Tasks">
                                <i class="bi bi-briefcase"></i>
                            </a>
                            
                            <!-- User Profile -->
                            <div class="user-profile" id="header-user-profile">
                                <div class="profile-avatar-header" onclick="toggleProfileDropdown()">
                                    <span class="profile-initial" id="profile-initial">U</span>
                                    <div class="online-indicator"></div>
                                </div>
                                
                                <!-- Profile Dropdown -->
                                <div class="profile-dropdown" id="profile-dropdown">
                                    <div class="dropdown-header">
                                        <div class="dropdown-user-info">
                                            <div class="dropdown-avatar">
                                                <span class="dropdown-initial" id="dropdown-initial">U</span>
                                            </div>
                                            <div class="dropdown-details">
                                                <div class="dropdown-name" id="dropdown-name">User Name</div>
                                                <div class="dropdown-email" id="dropdown-email">user@email.com</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="dropdown-divider"></div>
                                    <a href="account.html" class="dropdown-item">
                                        <i class="bi bi-person-circle"></i>
                                        <span>My Profile</span>
                                    </a>
                                    <a href="my-stuff.html" class="dropdown-item">
                                        <i class="bi bi-briefcase"></i>
                                        <span>My Tasks</span>
                                    </a>
                                    <div class="dropdown-divider"></div>
                                    <a href="rules.html" class="dropdown-item">
                                        <i class="bi bi-shield-check"></i>
                                        <span>Rules & Safety</span>
                                    </a>
                                    <a href="about.html" class="dropdown-item">
                                        <i class="bi bi-info-circle"></i>
                                        <span>About</span>
                                    </a>
                                    <div class="dropdown-divider"></div>
                                    <a href="#" class="dropdown-item" onclick="logout()">
                                        <i class="bi bi-box-arrow-right"></i>
                                        <span>Logout</span>
                                    </a>
                                </div>
                                    </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Bottom Navigation -->
        <div class="header-bottom">
            <div class="container">
                <div class="bottom-nav">
                    <a href="post.html" class="post-task-btn">
                        <i class="bi bi-plus-circle"></i>
                        <span>Post a Task</span>
                    </a>
                    
                    <div class="category-nav">
                        <div class="category-item">
                            <a href="browse.html?category=academic" class="category-link">Academic Help</a>
                            <div class="category-preview">
                                <div class="preview-header">
                                    <h6>Popular Academic Tasks</h6>
                                </div>
                                <div class="preview-content">
                                    <div class="preview-task">Math tutoring</div>
                                    <div class="preview-task">Essay writing</div>
                                    <div class="preview-task">Research help</div>
                                </div>
                            </div>
                        </div>
                        <div class="category-item">
                            <a href="browse.html?category=household" class="category-link">Household Tasks</a>
                            <div class="category-preview">
                                <div class="preview-header">
                                    <h6>Popular Household Tasks</h6>
                                </div>
                                <div class="preview-content">
                                    <div class="preview-task">House cleaning</div>
                                    <div class="preview-task">Laundry</div>
                                    <div class="preview-task">Organizing</div>
                                </div>
                            </div>
                        </div>
                        <div class="category-item">
                            <a href="browse.html?category=tech" class="category-link">Tech Support</a>
                            <div class="category-preview">
                                <div class="preview-header">
                                    <h6>Popular Tech Tasks</h6>
                                </div>
                                <div class="preview-content">
                                    <div class="preview-task">Computer setup</div>
                                    <div class="preview-task">Software help</div>
                                    <div class="preview-task">Website building</div>
                                </div>
                            </div>
                        </div>
                        <div class="category-item">
                            <a href="browse.html?category=creative" class="category-link">Creative Services</a>
                            <div class="category-preview">
                                <div class="preview-header">
                                    <h6>Popular Creative Tasks</h6>
                                </div>
                                <div class="preview-content">
                                    <div class="preview-task">Graphic design</div>
                                    <div class="preview-task">Photo editing</div>
                                    <div class="preview-task">Video creation</div>
                                </div>
                            </div>
                        </div>
                        <div class="category-item">
                            <a href="browse.html?category=delivery" class="category-link">Delivery & Errands</a>
                            <div class="category-preview">
                                <div class="preview-header">
                                    <h6>Popular Delivery Tasks</h6>
                                </div>
                                <div class="preview-content">
                                    <div class="preview-task">Package pickup</div>
                                    <div class="preview-task">Grocery shopping</div>
                                    <div class="preview-task">Meal delivery</div>
                                </div>
                            </div>
                        </div>
                        <div class="category-item">
                            <a href="browse.html?category=other" class="category-link">Other Services</a>
                            <div class="category-preview">
                                <div class="preview-header">
                                    <h6>Popular Other Tasks</h6>
                                </div>
                                <div class="preview-content">
                                    <div class="preview-task">Pet sitting</div>
                                    <div class="preview-task">Event planning</div>
                                    <div class="preview-task">Consulting</div>
                                </div>
                            </div>
                        </div>
                        <a href="browse.html" class="category-link more">
                            <span>More</span>
                            <i class="bi bi-chevron-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Mobile Categories Offcanvas -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="mobileCategories" aria-labelledby="mobileCategoriesLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="mobileCategoriesLabel">Browse Categories</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div class="d-grid gap-2">
                <a href="post.html" class="btn btn-outline-primary">
                    <i class="bi bi-plus-circle me-2"></i>Post a Task
                </a>
                <hr>
                <a href="browse.html?category=academic" class="btn btn-outline-secondary text-start">
                    Academic Help
                </a>
                <a href="browse.html?category=household" class="btn btn-outline-secondary text-start">
                    Household Tasks
                </a>
                <a href="browse.html?category=tech" class="btn btn-outline-secondary text-start">
                    Tech Support
                </a>
                <a href="browse.html?category=creative" class="btn btn-outline-secondary text-start">
                    Creative Services
                </a>
                <a href="browse.html?category=delivery" class="btn btn-outline-secondary text-start">
                    Delivery & Errands
                </a>
                <a href="browse.html?category=other" class="btn btn-outline-secondary text-start">
                    Other Services
                </a>
                <a href="browse.html" class="btn btn-outline-secondary text-start">
                    View All Tasks
                </a>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero-section bg-primary text-white py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <h1 class="display-4 fw-bold mb-4">Need it? Done.</h1>
                    <p class="lead mb-4">Post a quick Task. Get help nearby. Pay when it's done.</p>
                    <div class="d-flex flex-column flex-sm-row gap-3">
                        <a href="post.html" class="btn btn-light btn-lg px-4">
                            <i class="bi bi-plus-circle me-2"></i>Post a Task
                        </a>
                        <a href="browse.html" class="btn btn-outline-light btn-lg px-4">
                            <i class="bi bi-search me-2"></i>Find Tasks
                        </a>
                    </div>
                </div>
                <div class="col-lg-6 text-center">
                    <i class="bi bi-people-fill display-1 opacity-75"></i>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="py-5">
        <div class="container">
            <div class="row text-center mb-5">
                <div class="col-12">
                    <h2 class="display-5 fw-bold mb-3">How It Works</h2>
                    <p class="lead text-muted">Three simple steps to get things done</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 text-center mb-4">
                    <div class="step-card p-4 h-100 card-pastel-blue">
                        <div class="step-number bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                            <span class="fw-bold fs-4">1</span>
                        </div>
                        <h4 class="fw-bold mb-3">Post</h4>
                        <p class="text-muted">Create a Task with what you need, when, where, and how much you'll pay.</p>
                    </div>
                </div>
                <div class="col-md-4 text-center mb-4">
                    <div class="step-card p-4 h-100 card-pastel-green">
                        <div class="step-number bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                            <span class="fw-bold fs-4">2</span>
                        </div>
                        <h4 class="fw-bold mb-3">Apply</h4>
                        <p class="text-muted">Helpers nearby see your Task and apply with a quick message.</p>
                    </div>
                </div>
                <div class="col-md-4 text-center mb-4">
                    <div class="step-card p-4 h-100 card-pastel-purple">
                        <div class="step-number bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 60px; height: 60px;">
                            <span class="fw-bold fs-4">3</span>
                        </div>
                        <h4 class="fw-bold mb-3">Get it done</h4>
                        <p class="text-muted">Pick a Helper, complete the work, and pay when done.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Popular Tags -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row text-center mb-4">
                <div class="col-12">
                    <h3 class="fw-bold mb-3">Popular Task Categories</h3>
                    <p class="text-muted">Click any tag to browse related tasks</p>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="d-flex flex-wrap justify-content-center gap-2" id="popular-tags">
                        <!-- Tags will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Recent Tasks Preview -->
    <section class="py-5">
        <div class="container">
            <div class="row mb-4">
                <div class="col-12 d-flex justify-content-between align-items-center">
                    <h3 class="fw-bold mb-0">Recent Tasks</h3>
                    <a href="browse.html" class="btn btn-outline-primary">View All</a>
                </div>
            </div>
            <div class="row" id="recent-tasks">
                <!-- Recent tasks will be populated by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-light py-5 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 mb-4">
                    <div class="d-flex align-items-center mb-3">
                        <i class="bi bi-check-circle-fill text-primary me-2 fs-4"></i>
                        <h5 class="mb-0 fw-bold">GetItDone</h5>
                    </div>
                    <p class="text-white mb-3">Connecting students with tasks that need to be done. A platform built by students, for students.</p>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h6 class="fw-bold mb-3 text-primary">Platform</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="browse.html" class="text-white text-decoration-none">Browse Tasks</a></li>
                        <li class="mb-2"><a href="post.html" class="text-white text-decoration-none">Post a Task</a></li>
                        <li class="mb-2"><a href="my-stuff.html" class="text-white text-decoration-none">My Stuff</a></li>
                        <li class="mb-2"><a href="account.html" class="text-white text-decoration-none">Account</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h6 class="fw-bold mb-3 text-primary">Support</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="rules.html" class="text-white text-decoration-none">Rules & Safety</a></li>
                        <li class="mb-2"><a href="about.html" class="text-white text-decoration-none">About Us</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">Help Center</a></li>
                        <li class="mb-2"><a href="#" class="text-white text-decoration-none">Contact Support</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h6 class="fw-bold mb-3 text-primary">Legal</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="rules.html#privacy-policy" class="text-white text-decoration-none">Privacy Policy</a></li>
                        <li class="mb-2"><a href="rules.html#terms-of-service" class="text-white text-decoration-none">Terms of Service</a></li>
                        <li class="mb-2"><a href="rules.html#cookie-policy" class="text-white text-decoration-none">Cookie Policy</a></li>
                        <li class="mb-2"><a href="rules.html#community-guidelines" class="text-white text-decoration-none">Community Guidelines</a></li>
                    </ul>
                </div>
                <div class="col-lg-2 col-md-6 mb-4">
                    <h6 class="fw-bold mb-3 text-primary">Contact</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2 text-white">
                            <i class="bi bi-envelope me-2"></i>
                            <a href="mailto:support@getitdone.com" class="text-white text-decoration-none">support@getitdone.com</a>
                        </li>
                        <li class="mb-2 text-white">
                            <i class="bi bi-telephone me-2"></i>
                            <a href="tel:+15551234567" class="text-white text-decoration-none">(555) 123-4567</a>
                        </li>
                        <li class="mb-2 text-white">
                            <i class="bi bi-geo-alt me-2"></i>
                            <span>University of Alabama<br>Tuscaloosa, AL 35401</span>
                        </li>
                    </ul>
                </div>
            </div>
            <hr class="my-4 border-secondary">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="text-white mb-0">&copy; 2024 GetItDone. All rights reserved. Student project for educational purposes.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="text-white mb-0">
                        <i class="bi bi-shield-check me-1"></i>
                        Secure & Trusted Platform
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div class="modal fade" id="login-modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Log In</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="login-form">
                        <div class="mb-3">
                            <label for="login-email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="login-email" name="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="login-password" class="form-label">Password</label>
                            <input type="password" class="form-control" id="login-password" name="password" required>
                        </div>
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary">Log In</button>
                        </div>
                    </form>
                    <div class="text-center mt-3">
                        <p class="mb-0">Don't have an account? <a href="#" onclick="showRegisterModal()">Sign up</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Modal -->
    <div class="modal fade" id="register-modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Sign Up</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="register-form">
                        <div class="mb-3">
                            <label for="register-name" class="form-label">Full Name *</label>
                            <input type="text" class="form-control" id="register-name" name="name" required>
                        </div>
                        <div class="mb-3">
                            <label for="register-email" class="form-label">University Email *</label>
                            <input type="email" class="form-control" id="register-email" name="email" 
                                placeholder="username@university.edu" required>
                            <div class="form-text">Please use your university email address for verification.</div>
                            <div id="email-validation" class="mt-1"></div>
                        </div>
                        <div class="mb-3">
                            <label for="register-phone" class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" id="register-phone" name="phone">
                        </div>
                        <div class="mb-3">
                            <label for="register-password" class="form-label">Password *</label>
                            <input type="password" class="form-control" id="register-password" name="password" required minlength="6">
                            <div class="form-text">Password must be at least 6 characters long.</div>
                        </div>
                        
                        <!-- Payment Information -->
                        <div class="mb-3">
                            <h6 class="fw-bold text-primary">Payment Information *</h6>
                            <div class="form-text mb-2">Required for platform fee collection (5% on all transactions)</div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="card-number" class="form-label">Card Number *</label>
                            <input type="text" class="form-control" id="card-number" name="cardNumber" 
                                placeholder="1234 5678 9012 3456" required maxlength="19">
                        </div>
                        
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="card-expiry" class="form-label">Expiry Date *</label>
                                <input type="text" class="form-control" id="card-expiry" name="cardExpiry" 
                                    placeholder="MM/YY" required maxlength="5">
                            </div>
                            <div class="col-md-6">
                                <label for="card-cvv" class="form-label">CVV *</label>
                                <input type="text" class="form-control" id="card-cvv" name="cardCvv" 
                                    placeholder="123" required maxlength="4">
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="card-name" class="form-label">Name on Card *</label>
                            <input type="text" class="form-control" id="card-name" name="cardName" 
                                placeholder="John Doe" required>
                        </div>
                        
                        <div class="alert alert-info">
                            <small>
                                <i class="bi bi-info-circle me-1"></i>
                                Your card will be charged a 5% platform fee for all transactions, including cash payments. 
                                This helps us maintain the platform and ensure safety.
                            </small>
                        </div>
                        
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary">Sign Up</button>
                        </div>
                    </form>
                    <div class="text-center mt-3">
                        <p class="mb-0">Already have an account? <a href="#" onclick="showLoginModal()">Log in</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Notifications Modal -->
    <div class="modal fade" id="notifications-modal" tabindex="-1" aria-labelledby="notificationsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="notificationsModalLabel">Notifications</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="notifications-modal-list">
                        <div class="text-center text-muted py-3">No notifications</div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" onclick="markAllNotificationsRead()">Mark all as read</button>
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Messages Modal -->
    <div class="modal fade" id="messages-modal" tabindex="-1" aria-labelledby="messagesModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="messagesModalLabel">Messages</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="list-group" id="conversations-list-modal">
                                <div class="text-center text-muted py-3">No conversations</div>
                            </div>
                        </div>
                        <div class="col-md-8">
                            <div id="messages-content" style="display: none;">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <h6 id="conversation-title">Select a conversation</h6>
                                </div>
                                <div class="messages-container border rounded p-3 mb-3" style="height: 300px; overflow-y: auto;" id="messages-container-modal">
                                    <div class="text-center text-muted">Select a conversation to view messages</div>
                                </div>
                                <form id="message-form-modal">
                                    <div class="input-group">
                                        <input type="text" class="form-control" placeholder="Type your message..." id="message-input-modal">
                                        <button class="btn btn-primary" type="submit">Send</button>
                                    </div>
                                </form>
                            </div>
                            <div id="no-conversation-selected" class="text-center text-muted py-5">
                                <i class="bi bi-chat-dots fs-1"></i>
                                <p>Select a conversation to start messaging</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="../assets/scripts/data.js"></script>
    <script src="../assets/scripts/app.js"></script>
    <script>
        // University email validation
        function validateUniversityEmail(email) {
            const universityInfo = dataManager.validateUniversityEmail(email);
            const validationDiv = document.getElementById('email-validation');
            
            if (!email) {
                validationDiv.innerHTML = '';
                return false;
            }
            
            if (universityInfo) {
                validationDiv.innerHTML = `<small class="text-success"><i class="bi bi-check-circle me-1"></i>Verified: ${universityInfo.university}</small>`;
                return true;
            } else {
                validationDiv.innerHTML = `<small class="text-danger"><i class="bi bi-x-circle me-1"></i>Please use a valid university email address</small>`;
                return false;
            }
        }

        // Add email validation to registration form
        document.addEventListener('DOMContentLoaded', () => {
            const emailInput = document.getElementById('register-email');
            if (emailInput) {
                emailInput.addEventListener('input', function() {
                    validateUniversityEmail(this.value);
                });
                emailInput.addEventListener('blur', function() {
                    validateUniversityEmail(this.value);
                });
            }

            // Add card input formatting
            const cardNumberInput = document.getElementById('card-number');
            if (cardNumberInput) {
                cardNumberInput.addEventListener('input', function() {
                    let value = this.value.replace(/\s/g, '').replace(/[^0-9]/gi, '');
                    let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
                    if (formattedValue !== this.value) {
                        this.value = formattedValue;
                    }
                });
            }

            const cardExpiryInput = document.getElementById('card-expiry');
            if (cardExpiryInput) {
                cardExpiryInput.addEventListener('input', function() {
                    let value = this.value.replace(/\D/g, '');
                    if (value.length >= 2) {
                        value = value.substring(0, 2) + '/' + value.substring(2, 4);
                    }
                    this.value = value;
                });
            }

            const cardCvvInput = document.getElementById('card-cvv');
            if (cardCvvInput) {
                cardCvvInput.addEventListener('input', function() {
                    this.value = this.value.replace(/[^0-9]/g, '');
                });
            }
        });
    </script>
</body>
</html>

